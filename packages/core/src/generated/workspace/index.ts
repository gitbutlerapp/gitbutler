// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.

/**
 * Represents the author of a commit.
 */
export type Author = {
	/**
	 * The name from the git commit signature
	 */
	name: string;
	/**
	 * The email from the git commit signature
	 */
	email: string;
	/**
	 * A URL to a gravatar image for the email from the commit signature
	 */
	gravatarUrl: string;
};

/**
 * Commit that is a part of a [`StackBranch`](gitbutler_stack::StackBranch) and, as such, containing state derived in relation to the specific branch.
 */
export type Commit = {
	/**
	 * The OID of the commit.
	 */
	id: string;
	/**
	 * The parent OIDs of the commit.
	 */
	parentIds: string[];
	/**
	 * The message of the commit.
	 */
	message: string;
	/**
	 * Whether the commit is in a conflicted state.
	 * The Conflicted state of a commit is a GitButler concept.
	 * GitButler will perform rebasing/reordering etc without interruptions and flag commits as conflicted if needed.
	 * Conflicts are resolved via the Edit Mode mechanism.
	 */
	hasConflicts: boolean;
	/**
	 * Represents whether the commit is considered integrated, local only,
	 * or local and remote with respect to the branch it belongs to.
	 * Note that remote only commits in the context of a branch are expressed with the [`UpstreamCommit`] struct instead of this.
	 */
	state: CommitState;
	/**
	 * Commit creation time in Epoch milliseconds.
	 */
	createdAt: bigint;
	/**
	 * The author of the commit.
	 */
	author: Author;
	/**
	 * Optional URL to the Gerrit review for this commit, if applicable.
	 * Only populated if Gerrit mode is enabled and the commit has an associated review.
	 */
	gerritReviewUrl: string | null;
};

/**
 * Represents the state a commit could be in.
 */
export type CommitState =
	| { type: 'LocalOnly' }
	| { type: 'LocalAndRemote'; subject: string }
	| { type: 'Integrated' };

/**
 * Represents the pushable status for the current stack.
 */
export type PushStatus =
	| 'nothingToPush'
	| 'unpushedCommits'
	| 'unpushedCommitsRequiringForce'
	| 'completelyUnpushed'
	| 'integrated';

/**
 * Commit that is only at the remote.
 * Unlike the `Commit` struct, there is no knowledge of GitButler concepts like conflicted state etc.
 */
export type UpstreamCommit = {
	/**
	 * The OID of the commit.
	 */
	id: string;
	/**
	 * The message of the commit.
	 */
	message: string;
	/**
	 * Commit creation time in Epoch milliseconds.
	 */
	createdAt: bigint;
	/**
	 * The author of the commit.
	 */
	author: Author;
};
