// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.

export type ChangeState = {
	id: string;
	kind: "Tree" | "Blob" | "BlobExecutable" | "Link" | "Commit";
};

export type ModeFlags =
	| "ExecutableBitAdded"
	| "ExecutableBitRemoved"
	| "TypeChangeFileToLink"
	| "TypeChangeLinkToFile"
	| "TypeChange";

export type TreeChange = {
	path: string;
	/**
	 * Something silently carried back and forth between the frontend and the backend.
	 */
	pathBytes: number[];
	status: TreeStatus;
};

export type TreeStatus =
	| { type: "Addition"; subject: { state: ChangeState; isUntracked: boolean } }
	| { type: "Deletion"; subject: { previousState: ChangeState } }
	| {
			type: "Modification";
			subject: { previousState: ChangeState; state: ChangeState; flags: ModeFlags | null };
	  }
	| {
			type: "Rename";
			subject: {
				previousPath: string;
				/**
				 * Something silently carried back and forth between the frontend and the backend.
				 */
				previousPathBytes: number[];
				previousState: ChangeState;
				state: ChangeState;
				flags: ModeFlags | null;
			};
	  };
